// Setup Screen
    function SetupScreen(props) {
      var state = props.state;
      var dispatch = props.dispatch;
      var nameState = useState('');
      var newPlayerName = nameState[0];
      var setNewPlayerName = nameState[1];
      var inputRef = useRef(null);
      var customInputState = useState('');
      var customRoundsInput = customInputState[0];
      var setCustomRoundsInput = customInputState[1];
      var dragState = useState({ draggingIndex: null, dragOverIndex: null });
      var dragInfo = dragState[0];
      var setDragInfo = dragState[1];

      var addPlayer = function() {
        var name = newPlayerName.trim();
        if (name && state.players.length < MAX_PLAYERS) {
          dispatch({ type: 'ADD_PLAYER', name: name });
          setNewPlayerName('');
          if (inputRef.current) inputRef.current.focus();
        }
      };

      var handleDragStart = function(index) {
        setDragInfo({ draggingIndex: index, dragOverIndex: null });
      };

      var handleDragOver = function(index) {
        if (dragInfo.draggingIndex !== null && dragInfo.draggingIndex !== index) {
          setDragInfo(function(prev) { return Object.assign({}, prev, { dragOverIndex: index }); });
        }
      };

      var handleDragEnd = function() {
        if (dragInfo.draggingIndex !== null && dragInfo.dragOverIndex !== null && dragInfo.draggingIndex !== dragInfo.dragOverIndex) {
          var newPlayers = state.players.slice();
          var item = newPlayers.splice(dragInfo.draggingIndex, 1)[0];
          newPlayers.splice(dragInfo.dragOverIndex, 0, item);
          dispatch({ type: 'REORDER_PLAYERS', players: newPlayers });
        }
        setDragInfo({ draggingIndex: null, dragOverIndex: null });
      };

      var handlePresetClick = function(rounds) {
        dispatch({ type: 'SET_ROUND_CONFIG', rounds: rounds, isCustom: false });
        setCustomRoundsInput('');
      };

      var handleCustomClick = function() {
        dispatch({ type: 'SET_ROUND_CONFIG', rounds: state.roundConfig, isCustom: true });
      };

      var handleCustomInputChange = function(e) {
        var val = e.target.value.replace(/[^0-9]/g, '');
        setCustomRoundsInput(val);
        var num = parseInt(val, 10);
        if (num && num >= 1 && num <= 99) {
          dispatch({ type: 'SET_ROUND_CONFIG', rounds: num, isCustom: true });
        }
      };

      return React.createElement('div', { className: 'app-container' },
        React.createElement('div', { className: 'header' },
          React.createElement('div', { className: 'header-content' },
            React.createElement('div', { className: 'header-brand' },
              React.createElement('div', { className: 'brand-icon' }, React.createElement(BankIcon, { size: 22 })),
              React.createElement('h1', { className: 'header-title' }, 'BANK')
            ),
            React.createElement('button', { onClick: function() { dispatch({ type: 'TOGGLE_SETTING', setting: 'darkMode' }); }, className: 'icon-btn' },
              state.settings.darkMode ? React.createElement(Sun, { size: 20 }) : React.createElement(Moon, { size: 20 })
            )
          )
        ),
        React.createElement('div', { style: { flex: 1, overflowY: 'auto', padding: '1rem' } },
          React.createElement('div', { style: { maxWidth: '28rem', margin: '0 auto' } },
            React.createElement('div', { className: 'card p-5 mb-6' },
              React.createElement('h2', { className: 'text-lg font-bold mb-4 flex items-center gap-2' }, React.createElement(Users, { size: 20, style: { color: 'var(--text-accent)' } }), ' Players (' + state.players.length + ')'),
              React.createElement('div', { className: 'flex gap-2 mb-4' },
                React.createElement('input', { ref: inputRef, type: 'text', value: newPlayerName, onChange: function(e) { setNewPlayerName(e.target.value); }, onKeyPress: function(e) { if (e.key === 'Enter') addPlayer(); }, placeholder: 'Enter player name', maxLength: 20, className: 'input', style: { flex: 1 } }),
                React.createElement('button', { onClick: addPlayer, disabled: !newPlayerName.trim() || state.players.length >= MAX_PLAYERS, className: 'btn btn-primary', style: { padding: '0.75rem' } },
                  React.createElement(Plus, { size: 20 })
                )
              ),
              React.createElement('div', { className: 'flex flex-col gap-2' },
                state.players.length === 0 ?
                  React.createElement('div', { className: 'text-center py-8', style: { color: 'var(--text-secondary)' } }, 'Add at least ' + MIN_PLAYERS + ' players to start') :
                  state.players.map(function(player, index) {
                    return React.createElement(SetupPlayerCard, { 
                      key: player.id, 
                      player: player, 
                      index: index,
                      onRemove: function(id) { dispatch({ type: 'REMOVE_PLAYER', id: id }); },
                      onDragStart: handleDragStart,
                      onDragOver: handleDragOver,
                      onDragEnd: handleDragEnd,
                      isDragging: dragInfo.draggingIndex === index,
                      isDragOver: dragInfo.dragOverIndex === index
                    });
                  })
              )
            ),
            React.createElement('div', { className: 'card p-5 mb-6' },
              React.createElement('h2', { className: 'text-lg font-bold mb-4 flex items-center gap-2' }, React.createElement(Settings, { size: 20, style: { color: 'var(--text-accent)' } }), ' Game Settings'),
              React.createElement('div', { className: 'mb-4' },
                React.createElement('label', { style: { display: 'block', fontSize: '0.875rem', fontWeight: 500, color: 'var(--text-secondary)', marginBottom: '0.5rem' } }, 'Number of Rounds'),
                React.createElement('div', { className: 'round-options' },
                  ROUND_PRESETS.map(function(rounds) {
                    var isActive = !state.isCustomRounds && state.roundConfig === rounds;
                    return React.createElement('button', { key: rounds, onClick: function() { handlePresetClick(rounds); }, className: 'round-option' + (isActive ? ' active' : '') }, rounds);
                  }),
                  React.createElement('button', { onClick: handleCustomClick, className: 'round-option' + (state.isCustomRounds ? ' active' : '') }, 'Custom')
                ),
                state.isCustomRounds && React.createElement('div', { className: 'custom-rounds-input mt-3' },
                  React.createElement('input', { 
                    type: 'text', 
                    inputMode: 'numeric',
                    value: customRoundsInput || (state.isCustomRounds && ROUND_PRESETS.indexOf(state.roundConfig) === -1 ? state.roundConfig : ''),
                    onChange: handleCustomInputChange,
                    placeholder: '#',
                    maxLength: 2,
                    className: 'input input-small'
                  }),
                  React.createElement('span', { style: { color: 'var(--text-secondary)' } }, 'rounds')
                )
              ),
              React.createElement('div', { className: 'toggle-row', style: { borderBottom: 'none' } },
                React.createElement('div', { className: 'toggle-label' },
                  React.createElement(Dices, { size: 20 }),
                  React.createElement('span', { className: 'font-medium' }, 'Virtual Dice')
                ),
                React.createElement('button', { onClick: function() { dispatch({ type: 'TOGGLE_SETTING', setting: 'virtualDice' }); }, className: 'toggle' + (state.settings.virtualDice ? ' active' : '') },
                  React.createElement('div', { className: 'toggle-knob' })
                )
              )
            ),
            React.createElement('button', { onClick: function() { dispatch({ type: 'START_GAME' }); }, disabled: state.players.length < MIN_PLAYERS, className: 'btn btn-primary btn-large w-full' },
              React.createElement(Play, { size: 24 }), ' Start Game'
            )
          )
        ),
        React.createElement(AppFooter)
      );
    }